{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mrdre\\\\Desktop\\\\CashCoach\\\\CashCoach\\\\client\\\\cash\\\\src\\\\components\\\\elements\\\\list\\\\updateList\\\\UpdateList.tsx\",\n  _s = $RefreshSig$();\nimport edit from '../../../../icons/edit.svg';\nimport deleteIcon from '../../../../icons/delete.svg';\nimport { useContext, useEffect, useState } from \"react\";\nimport { Context } from \"../../../..\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UpdateList = _ref => {\n  _s();\n  let {\n    searchQuery,\n    sortColumn,\n    sortDirection,\n    getItemId,\n    getChange\n  } = _ref;\n  const [items, setItems] = useState([]);\n  const {\n    store\n  } = useContext(Context);\n  const [bool, setBool] = useState(false);\n  const getId = id => {\n    getItemId(id);\n  };\n  const changeBool = () => {\n    setBool(bool => !bool);\n  };\n  useEffect(() => {\n    async function fetchData() {\n      const res = await store.generate_list();\n      setItems(res);\n    }\n    fetchData();\n  }, [bool, store, getChange]);\n  console.log(1);\n  const filteredItems = items.filter(item => item.description.toLowerCase().includes(searchQuery.toLowerCase()) || item.value.includes(searchQuery) || item.date.includes(searchQuery));\n  const sortedItems = sortColumn && sortDirection ? filteredItems.sort((a, b) => {\n    let aValue = a.bool ? a.value : -a.value;\n    let bValue = b.bool ? b.value : -b.value;\n    if (sortColumn === \"amount\") {\n      return sortDirection === \"asc\" ? aValue - bValue : bValue - aValue;\n    } else if (sortColumn === \"date\") {\n      return sortDirection === \"asc\" ? new Date(a.timeAdded).getTime() - new Date(b.timeAdded).getTime() : new Date(b.timeAdded).getTime() - new Date(a.timeAdded).getTime();\n    } else {\n      return 0;\n    }\n  }) : filteredItems;\n\n  // Копіювання по кліку\n  const [tooltipText, setTooltipText] = useState('Клацніть, щоб скопіювати');\n  const handleCopyAmount = event => {\n    const cell = event.target;\n    const amount = cell.textContent;\n    if (amount) {\n      navigator.clipboard.writeText(amount);\n      setTooltipText('Текст успішно скопійовано');\n      setTimeout(() => {\n        setTooltipText('Клацніть, щоб скопіювати');\n      }, 2000);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"tbody\", {\n    children: sortedItems.map(element => /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            var _document$querySelect;\n            (_document$querySelect = document.querySelector('.edit-form')) === null || _document$querySelect === void 0 ? void 0 : _document$querySelect.classList.remove('none');\n            getId(String(element._id));\n          },\n          className: \"edit\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: edit,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 143\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: element.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        style: {\n          color: element.bool ? '#27AE60' : '#FC4C4F'\n        },\n        \"data-tooltip\": tooltipText,\n        onClick: handleCopyAmount,\n        children: element.value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: element.date\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            store.delete(String(element._id));\n            setTimeout(changeBool, 100);\n          },\n          className: \"delete\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: deleteIcon,\n            alt: \"Delete icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 27\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 5\n      }, this)]\n    }, String(element._id), true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 4\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 3\n  }, this);\n};\n_s(UpdateList, \"3enXe0CryMHq4l4sTYXP9S84VHo=\");\n_c = UpdateList;\nexport default UpdateList;\nvar _c;\n$RefreshReg$(_c, \"UpdateList\");","map":{"version":3,"names":["edit","deleteIcon","useContext","useEffect","useState","Context","jsxDEV","_jsxDEV","UpdateList","_ref","_s","searchQuery","sortColumn","sortDirection","getItemId","getChange","items","setItems","store","bool","setBool","getId","id","changeBool","fetchData","res","generate_list","console","log","filteredItems","filter","item","description","toLowerCase","includes","value","date","sortedItems","sort","a","b","aValue","bValue","Date","timeAdded","getTime","tooltipText","setTooltipText","handleCopyAmount","event","cell","target","amount","textContent","navigator","clipboard","writeText","setTimeout","children","map","element","onClick","_document$querySelect","document","querySelector","classList","remove","String","_id","className","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","style","color","delete","_c","$RefreshReg$"],"sources":["C:/Users/mrdre/Desktop/CashCoach/CashCoach/client/cash/src/components/elements/list/updateList/UpdateList.tsx"],"sourcesContent":["import edit from '../../../../icons/edit.svg';\r\nimport deleteIcon from '../../../../icons/delete.svg';\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { Context } from \"../../../..\";\r\nimport { ListItem } from \"../../../../models/ListItem\";\r\n  \r\ninterface UpdateListProps {\r\n\tsearchQuery: string;\r\n\tsortColumn: string;\r\n\tsortDirection: string;\r\n\tgetItemId: any;\r\n\tgetChange: any;\r\n}\r\n\r\nconst UpdateList = ({ searchQuery, sortColumn, sortDirection, getItemId, getChange}: UpdateListProps) => {\r\n\tconst [items, setItems] = useState<Array<ListItem>>([]);\r\n\tconst { store } = useContext(Context);\r\n\tconst [bool, setBool] = useState(false);\r\n\r\n\tconst getId = (id: any) => {\r\n\t\tgetItemId(id);\r\n\t}\r\n\r\n\tconst changeBool = () => {\r\n\t  setBool(bool => !bool);\r\n\t};\r\n\t\r\n\tuseEffect(() => {\r\n\t  async function fetchData() {\r\n\t\tconst res = await store.generate_list();\r\n\t\tsetItems(res);\r\n\t  }\r\n\t  fetchData();\r\n\t}, [bool, store, getChange]);\r\n\r\n\tconsole.log(1);\r\n\t\r\n\tconst filteredItems = items.filter((item) =>\r\n\t  item.description.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n\t  item.value.includes(searchQuery) ||\r\n\t  item.date.includes(searchQuery)\r\n\t);\r\n\t\r\n\tconst sortedItems = sortColumn && sortDirection\r\n\t? filteredItems.sort((a:any, b:any) => {\r\n\t\tlet aValue = a.bool ? a.value : -a.value;\r\n\t\tlet bValue = b.bool ? b.value : -b.value;\r\n\r\n\t\tif (sortColumn === \"amount\") {\r\n\t\t\treturn sortDirection === \"asc\" ? aValue - bValue : bValue - aValue;\r\n\t\t} else if (sortColumn === \"date\") {\r\n\t\t\treturn sortDirection === \"asc\"\r\n\t\t\t? new Date(a.timeAdded).getTime() - new Date(b.timeAdded).getTime()\r\n\t\t\t: new Date(b.timeAdded).getTime() - new Date(a.timeAdded).getTime();\r\n\t\t} else {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\t})\r\n\t: filteredItems;\r\n\r\n\r\n\t// Копіювання по кліку\r\n\tconst [tooltipText, setTooltipText] = useState('Клацніть, щоб скопіювати');\r\n\r\n\tconst handleCopyAmount = (event: React.MouseEvent<HTMLTableCellElement>) => {\r\n\t\tconst cell = event.target as HTMLElement;\r\n\t\tconst amount = cell.textContent;\r\n\t\r\n\t\tif (amount) {\r\n\t\t\tnavigator.clipboard.writeText(amount);\r\n\t\t\tsetTooltipText('Текст успішно скопійовано');\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetTooltipText('Клацніть, щоб скопіювати');\r\n\t\t}, 2000);\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<tbody>\r\n\t\t  {sortedItems.map((element) => (\r\n\t\t\t<tr key={String(element._id)}>\r\n\t\t\t\t<td><button onClick={() => {document.querySelector('.edit-form')?.classList.remove('none'); getId(String(element._id))}} className=\"edit\"><img src={edit} alt=\"\" /></button></td>\r\n\t\t\t\t<td>{element.description}</td>\r\n\t\t\t\t<td\r\n\t\t\t\t\t\tstyle={{color: element.bool ? '#27AE60' : '#FC4C4F'}}\r\n\t\t\t\t\t\tdata-tooltip={tooltipText}\r\n\t\t\t\t\t\tonClick={handleCopyAmount}\r\n\t\t\t\t\t>{element.value}</td>\r\n\t\t\t\t<td>{element.date}</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t<button onClick={() => {\r\n\t\t\t\t\t\t\tstore.delete(String(element._id));\r\n\t\t\t\t\t\t\tsetTimeout(changeBool, 100);\r\n\t\t\t\t\t\t}} \r\n\t\t\t\t\t\t\tclassName=\"delete\"><img src={deleteIcon} alt=\"Delete icon\" />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t  ))}\r\n\t\t</tbody>\r\n\t)\r\n}\r\n\r\nexport default UpdateList;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}